<!DOCTYPE html>
<head>
    <title>KnockoutJS Click Binding</title>
    <script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.3.0.js" type="text/javascript"></script>
</head>

<body>

    <p>Enter your name: <input data-bind="value: someValue" /></p>
    <p><button data-bind="click: showMessage">Click here</button></p>
    <div id="result3"></div>

    <script type="text/javascript">
        function ViewModel() {
            this.someValue = ko.observable();

            this.showMessage = function () {
                alert("Hello " + this.someValue() + "!!! How are you today?" +
                    "\nClick Binding is used here !!!");

                value = this.someValue();

                @*$.ajax({
                            type: 'GET',
                            dataType: 'json',
                            contentType: 'application/json',
                            url: '@Url.Action("Get", "DirectoryUser")',
                            data: { id: value },
                            success: function (result) {
                                var resultString = 'Staff No: ' + result.staffNo + '<br>Full Name: ' + result.fullName + '<br>Email: ' + result.email;
                                $('#result3').html(resultString);
                                }
                        });*@

                 $.get("@Url.RouteUrl("DefaultApi", new { controller = "DirectoryUser", id = "" })/?staffNo=" + value, {
                dataType: 'json'
            })
            .done(function (data) {
                if (data) {
                    //$("#Input_FullName").val(data.FullName);
                    //$("#Input_Email").val(data.Email);
                    //$("#Input_PhoneNumber").val(data.PhoneNumber);
                    //$("#auth-ad").attr("checked", true).trigger('click');
                    var resultString = 'Staff No: ' + data.staffNo + '<br>Full Name: ' + data.fullName + '<br>Email: ' + data.email;
                    $('#result3').html(resultString);
                } else {
                    alert("Pekerja dgn no staff '" + staffNo + "' tidak ditemui.");
                }
            })
            }
        };

        var vm = new ViewModel();
        ko.applyBindings(vm);
    </script>

</body>
</html>